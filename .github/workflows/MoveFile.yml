name: Copy File

on:
  workflow_dispatch:

jobs:
  copy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout private repo
      uses: actions/checkout@v2
      with:
        repository: andreadepolis/MyCV.git
        token: ${{ secrets.CV_TOKEN}}
        path: MyCV
        ref: main
    
    - name: Checkout public repo
      uses: actions/checkout@v2
      with: 
        repository: andreadepolis/PDFs.git       
        path: PDFs
        ref: main
        
    - name: Copy file
      run: cp MyCV/cv.pdf PDFs

    - name: Commit changes
      run: |
        cd ./PDFs         
        git config user.name 'HCdepo'         
        git config user.email 'andrea.depolis.17@mail.wbs.ac.uk'
        git add .
        git commit -m 'Copy file from private repo'
        git push 
